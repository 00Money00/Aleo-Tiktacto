---
namespace: Compile
expectation: Fail
outputs:
  - "Error [EAST0372005]: cannot call keyword `Self` outside of a circuit function\n    --> compiler-test:16:3\n     |\n  16 |   let foo: Self = Foo::new();\n     |   ^^^^^^^^^^^^^^^^^^^^^^^^^^\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ BACKTRACE ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n\u001b[0m\u001b[38;5;14m                              ⋮ 4 frames hidden ⋮                               \n\u001b[0m 5: \u001b[0m\u001b[38;5;9menum$<leo_errors::ast::ast_errors::AstError>::big_self_outside_of_circuit\n\u001b[0m    at C:\\Users\\jonat\\AppData\\Roaming\\work\\leo\\errors\\src\\common\\macros.rs:86\n 6: \u001b[0m\u001b[38;5;9mleo_ast_passes::canonicalization::canonicalizer::{{impl}}::reduce_type\n\u001b[0m    at C:\\Users\\jonat\\AppData\\Roaming\\work\\leo\\ast-passes\\src\\canonicalization\\canonicalizer.rs:503\n 7: \u001b[0m\u001b[38;5;9mleo_ast::reducer::reconstructing_director::ReconstructingDirector<leo_ast_passes::canonicalization::canonicalizer::Canonicalizer>::reduce_type<leo_ast_passes::canonicalization::canonicalizer::Canonicalizer>\n\u001b[0m    at C:\\Users\\jonat\\AppData\\Roaming\\work\\leo\\ast\\src\\reducer\\reconstructing_director.rs:48\n 8: \u001b[0m\u001b[38;5;9mleo_ast::reducer::reconstructing_director::{{impl}}::reduce_definition::{{closure}}<leo_ast_passes::canonicalization::canonicalizer::Canonicalizer>\n\u001b[0m    at C:\\Users\\jonat\\AppData\\Roaming\\work\\leo\\ast\\src\\reducer\\reconstructing_director.rs:313\n 9: \u001b[0m\u001b[32menum$<core::option::Option<enum$<leo_ast::types::type_::Type>*>, 1, 18446744073709551615, Some>::map<enum$<leo_ast::types::type_::Type>*,enum$<core::result::Result<enum$<leo_ast::types::type_::Type>, enum$<leo_errors::LeoError>>>,closure-0>\n\u001b[0m    at /rustc/a178d0322ce20e33eac124758e837cbd80a6f633\\library\\core\\src\\option.rs:489\n10: \u001b[0m\u001b[38;5;9mleo_ast::reducer::reconstructing_director::ReconstructingDirector<leo_ast_passes::canonicalization::canonicalizer::Canonicalizer>::reduce_definition<leo_ast_passes::canonicalization::canonicalizer::Canonicalizer>\n\u001b[0m    at C:\\Users\\jonat\\AppData\\Roaming\\work\\leo\\ast\\src\\reducer\\reconstructing_director.rs:310\n11: \u001b[0m\u001b[38;5;9mleo_ast::reducer::reconstructing_director::ReconstructingDirector<leo_ast_passes::canonicalization::canonicalizer::Canonicalizer>::reduce_statement<leo_ast_passes::canonicalization::canonicalizer::Canonicalizer>\n\u001b[0m    at C:\\Users\\jonat\\AppData\\Roaming\\work\\leo\\ast\\src\\reducer\\reconstructing_director.rs:280\n12: \u001b[0m\u001b[38;5;9mleo_ast::reducer::reconstructing_director::ReconstructingDirector<leo_ast_passes::canonicalization::canonicalizer::Canonicalizer>::reduce_block<leo_ast_passes::canonicalization::canonicalizer::Canonicalizer>\n\u001b[0m    at C:\\Users\\jonat\\AppData\\Roaming\\work\\leo\\ast\\src\\reducer\\reconstructing_director.rs:410\n13: \u001b[0m\u001b[38;5;9mleo_ast::reducer::reconstructing_director::ReconstructingDirector<leo_ast_passes::canonicalization::canonicalizer::Canonicalizer>::reduce_function<leo_ast_passes::canonicalization::canonicalizer::Canonicalizer>\n\u001b[0m    at C:\\Users\\jonat\\AppData\\Roaming\\work\\leo\\ast\\src\\reducer\\reconstructing_director.rs:574\n14: \u001b[0m\u001b[38;5;9mleo_ast::reducer::reconstructing_director::ReconstructingDirector<leo_ast_passes::canonicalization::canonicalizer::Canonicalizer>::reduce_program<leo_ast_passes::canonicalization::canonicalizer::Canonicalizer>\n\u001b[0m    at C:\\Users\\jonat\\AppData\\Roaming\\work\\leo\\ast\\src\\reducer\\reconstructing_director.rs:456\n15: \u001b[0m\u001b[38;5;9mleo_ast_passes::canonicalization::canonicalizer::{{impl}}::do_pass\n\u001b[0m    at C:\\Users\\jonat\\AppData\\Roaming\\work\\leo\\ast-passes\\src\\canonicalization\\canonicalizer.rs:35\n16: \u001b[0m\u001b[38;5;9mleo_compiler::compiler::Compiler<snarkvm_fields::fp_256::Fp256<snarkvm_curves::bls12_377::fr::FrParameters>, enum$<leo_compiler::value::group::targets::edwards_bls12::EdwardsGroupType>>::parse_program_from_string<snarkvm_fields::fp_256::Fp256<snarkvm_curv\n\u001b[0m    at C:\\Users\\jonat\\AppData\\Roaming\\work\\leo\\compiler\\src\\compiler.rs:262\n17: \u001b[0m\u001b[38;5;9mleo_compiler::test::parse_program\n\u001b[0m    at C:\\Users\\jonat\\AppData\\Roaming\\work\\leo\\compiler\\src\\test.rs:77\n18: \u001b[0m\u001b[38;5;9mleo_compiler::test::{{impl}}::run_test\n\u001b[0m    at C:\\Users\\jonat\\AppData\\Roaming\\work\\leo\\compiler\\src\\test.rs:117\n19: \u001b[0m\u001b[38;5;9mleo_test_framework::runner::run_tests<leo_compiler::test::TestRunner>\n\u001b[0m    at C:\\Users\\jonat\\AppData\\Roaming\\work\\leo\\test-framework\\src\\runner.rs:151\n20: \u001b[0m\u001b[38;5;9mleo_compiler::test::compiler_tests\n\u001b[0m    at C:\\Users\\jonat\\AppData\\Roaming\\work\\leo\\compiler\\src\\test.rs:270\n21: \u001b[0m\u001b[38;5;9mleo_compiler::test::compiler_tests::{{closure}}\n\u001b[0m    at C:\\Users\\jonat\\AppData\\Roaming\\work\\leo\\compiler\\src\\test.rs:269\n22: \u001b[0m\u001b[32mcore::ops::function::FnOnce::call_once<closure-0,tuple<>>\n\u001b[0m    at /rustc/a178d0322ce20e33eac124758e837cbd80a6f633\\library\\core\\src\\ops\\function.rs:227\n23: \u001b[0m\u001b[32mcore::ops::function::FnOnce::call_once\n\u001b[0m    at /rustc/a178d0322ce20e33eac124758e837cbd80a6f633\\library\\core\\src\\ops\\function.rs:227\n24: \u001b[0m\u001b[32mtest::__rust_begin_short_backtrace<fn()>\n\u001b[0m    at /rustc/a178d0322ce20e33eac124758e837cbd80a6f633\\/library\\test\\src\\lib.rs:577\n25: \u001b[0m\u001b[32malloc::boxed::{{impl}}::call_once\n\u001b[0m    at /rustc/a178d0322ce20e33eac124758e837cbd80a6f633\\library\\alloc\\src\\boxed.rs:1575\n26: \u001b[0m\u001b[32mstd::panic::{{impl}}::call_once\n\u001b[0m    at /rustc/a178d0322ce20e33eac124758e837cbd80a6f633\\library\\std\\src\\panic.rs:347\n27: \u001b[0m\u001b[32mstd::panicking::try::do_call\n\u001b[0m    at /rustc/a178d0322ce20e33eac124758e837cbd80a6f633\\library\\std\\src\\panicking.rs:401\n28: \u001b[0m\u001b[32mstd::panicking::try\n\u001b[0m    at /rustc/a178d0322ce20e33eac124758e837cbd80a6f633\\library\\std\\src\\panicking.rs:365\n29: \u001b[0m\u001b[32mstd::panic::catch_unwind\n\u001b[0m    at /rustc/a178d0322ce20e33eac124758e837cbd80a6f633\\library\\std\\src\\panic.rs:434\n30: \u001b[0m\u001b[32mtest::run_test_in_process\n\u001b[0m    at /rustc/a178d0322ce20e33eac124758e837cbd80a6f633\\/library\\test\\src\\lib.rs:600\n\u001b[0m\u001b[38;5;14m                              ⋮ 15 frames hidden ⋮                              \n\u001b[0m"
